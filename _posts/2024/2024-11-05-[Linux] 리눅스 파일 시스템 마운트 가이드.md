---
title: "[Linux] λ¦¬λ…μ¤ νμΌ μ‹μ¤ν… λ§μ΄νΈ κ°€μ΄λ“"
date: "2024-11-05"
tags:
  - "linux"
  - "ν™κ²½"
year: "2024"
---

# [Linux] λ¦¬λ…μ¤ νμΌ μ‹μ¤ν… λ§μ΄νΈ κ°€μ΄λ“

μ›λ³Έ κ²μ‹κΈ€: https://velog.io/@euisuk-chung/Linux-λ¦¬λ…μ¤-νμΌ-μ‹μ¤ν…-λ§μ΄νΈ-κ°€μ΄λ“



![](https://velog.velcdn.com/images/euisuk-chung/post/571e0463-721a-45b6-b097-e702f863286e/image.png)

`fstab`, `df -h`, λ§μ΄νΈ λ…λ Ήμ–΄ μ™„λ²½ μ΄ν•΄ν•κΈ°
=================================

λ¦¬λ…μ¤ μ‹μ¤ν…μ—μ„ νμΌ μ‹μ¤ν… λ§μ΄νΈλ” ν•„μμ μΈ μ‘μ—…μ…λ‹λ‹¤. μ‹μ¤ν…μ΄ λ¶€ν…ν•  λ•λ§λ‹¤ μλ™μΌλ΅ λ””μ¤ν¬λ¥Ό λ§μ΄νΈν•κ³ , λ‹¤μ–‘ν• νμΌ μ‹μ¤ν…μ„ κ΄€λ¦¬ν•λ” κ³Όμ •μ—μ„ ν¨μ¨μ„±κ³Ό μ•μ •μ„±μ„ λ†’μ΄κΈ° μ„ν•΄ μ—¬λ¬ λ…λ Ήμ–΄λ¥Ό ν™μ©ν•  μ μμµλ‹λ‹¤.

μ΄ κΈ€μ—μ„λ” λ¦¬λ…μ¤ λ§μ΄νΈ κ΄€λ ¨ ν•µμ‹¬ νμΌμΈ `/etc/fstab`, λ””μ¤ν¬ μ‚¬μ©λ‰ ν™•μΈμ„ μ„ν• `df -h`, νμΌ μ‹μ¤ν… λ§μ΄νΈμ™€ κ΄€λ ¨λ λ…λ Ήμ–΄λ“¤μ— λ€ν•΄ μ•μ•„λ³΄κ² μµλ‹λ‹¤.

---

1. `/etc/fstab` νμΌ: νμΌ μ‹μ¤ν… μλ™ λ§μ΄νΈ μ„¤μ •
------------------------------------

### μ—­ν• 

`/etc/fstab` νμΌμ€ μ‹μ¤ν… λ¶€ν… μ‹ μλ™μΌλ΅ λ§μ΄νΈν•  νμΌ μ‹μ¤ν…μ μ •λ³΄λ¥Ό μ €μ¥ν•λ” κµ¬μ„± νμΌμ…λ‹λ‹¤.

* μ΄λ¥Ό ν†µν•΄ λ””μ¤ν¬λ¥Ό λ§¤λ² μλ™μΌλ΅ λ§μ΄νΈν•  ν•„μ” μ—†μ΄, μ‹μ¤ν…μ΄ μ‹μ‘λ  λ• μ§€μ •λ νμΌ μ‹μ¤ν…μ΄ μλ™μΌλ΅ λ§μ΄νΈλ©λ‹λ‹¤.

### `/etc/fstab` νμΌ κµ¬μ΅°

`fstab` νμΌμ€ 6κ°μ ν•„λ“λ΅ κµ¬μ„±λ κ° νμΌ μ‹μ¤ν…μ μ •λ³΄λ¥Ό ν¬ν•¨ν•κ³  μμµλ‹λ‹¤:

* **νμΌ μ‹μ¤ν…**: λ§μ΄νΈν•  μ¥μΉλ‚ νμΌ μ‹μ¤ν…μ κ²½λ΅ (μ: `/dev/sda1` λλ” UUID).
* **λ§μ΄νΈ μ§€μ **: νμΌ μ‹μ¤ν…μ΄ λ§μ΄νΈλ  λ””λ ‰ν† λ¦¬ (μ: `/mnt/data`).
* **νμΌ μ‹μ¤ν… μ ν•**: `ext4`, `NTFS`, `NFS` λ“±.
* **μµμ…**: λ§μ΄νΈ μµμ… μ„¤μ • (`defaults`, `ro`, `rw`, `noexec` λ“±).
* **λ¤ν”„**: λ°±μ—… μ ν‹Έλ¦¬ν‹° `dump`κ°€ μ‚¬μ©ν• μ§€ μ—¬λ¶€ (0 λλ” 1).
* **ν¨μ¤**: `fsck` λ…λ Ήμ–΄λ΅ λ¶€ν… μ‹ νμΌ μ‹μ¤ν… κ²€μ‚¬ μμ„λ¥Ό μ§€μ • (0μ€ κ²€μ‚¬ν•μ§€ μ•μ).

**μμ‹:**

```
UUID=abc123 /mnt/data ext4 defaults 0 2
```
### μ£Όμ μ‚¬ν•­

`fstab` νμΌμ— μ¤λ¥κ°€ μμΌλ©΄ λ¶€ν…μ΄ μ‹¤ν¨ν•  μ μμΌλ―€λ΅, ν•­μƒ νΈμ§‘ μ „ λ°±μ—…μ„ κ¶μ¥ν•©λ‹λ‹¤:

```
sudo cp /etc/fstab /etc/fstab.bak
```

---

2. `df -h`: λ””μ¤ν¬ μ‚¬μ©λ‰ ν™•μΈ
----------------------

`df -h` λ…λ Ήμ–΄λ” νμΌ μ‹μ¤ν…μ λ””μ¤ν¬ μ‚¬μ©λ‰μ„ κ°„νΈν•κ² ν™•μΈν•  μ μλ” λ…λ Ήμ–΄μ…λ‹λ‹¤.

* **μ©λ„**: κ° νμΌ μ‹μ¤ν…μ μ΄ μ©λ‰, μ‚¬μ© μ¤‘μΈ μ©λ‰, μ—¬μ  κ³µκ°„, μ‚¬μ©λ¥ , λ§μ΄νΈ μ§€μ μ„ ν‘μ‹ν•©λ‹λ‹¤.
* **μµμ…**:
  
  + `-h`: μ‚¬λμ΄ μ½κΈ° μ‰¬μ΄ ν•νƒλ΅ ν‘μ‹ (GB, MB λ“±).

**μ‚¬μ© μμ‹:**

```
df -h
```

**μ¶λ ¥ μμ‹:**

```
Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1        50G   15G   33G  32% /
```

---

3. νμΌ μ‹μ¤ν… λ§μ΄νΈ: `mount` λ…λ Ήμ–΄ μ‚¬μ©λ²•
------------------------------

### κΈ°λ³Έ μ‚¬μ©λ²•

νμΌ μ‹μ¤ν…μ„ νΉμ • λ§μ΄νΈ μ§€μ μ— λ§μ΄νΈν•κΈ° μ„ν•΄ `mount` λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤:

```
sudo mount [μµμ…] <μ¥μΉ> <λ§μ΄νΈ μ§€μ >
```

**μμ‹:**

```
sudo mount /dev/sdb1 /mnt/external_drive
```
### μΌλ°μ μΈ λ§μ΄νΈ μµμ…

* **`ro`**: μ½κΈ° μ „μ© λ§μ΄νΈ.
* **`rw`**: μ½κΈ°/μ“°κΈ° κ°€λ¥ λ§μ΄νΈ.
* **`noexec`**: μ‹¤ν–‰ νμΌμ΄ μ‹¤ν–‰λμ§€ μ•λ„λ΅ μ„¤μ •.
* **`user`**: μΌλ° μ‚¬μ©μκ°€ λ§μ΄νΈ κ°€λ¥ν•λ„λ΅ μ„¤μ •.

### λ‹¤μ–‘ν• νμΌ μ‹μ¤ν… μ ν• λ§μ΄νΈ

* **`ext4`**: λ¦¬λ…μ¤ κΈ°λ³Έ νμΌ μ‹μ¤ν…, λ‚΄κµ¬μ„± λ†’μ.
* **`NTFS`**: μλ„μ° μ‹μ¤ν…κ³Όμ νΈν™μ„±μ„ μ„ν•΄ μ‚¬μ©.
* **`NFS`**: λ„¤νΈμ›ν¬ νμΌ μ‹μ¤ν…, λ„¤νΈμ›ν¬ κ³µμ  λ“λΌμ΄λΈμ— μ‚¬μ©.

```
sudo mount -t ntfs /dev/sdb1 /mnt/ntfs_drive
```
### μ„μ‹ λ§μ΄νΈμ™€ μκµ¬ λ§μ΄νΈμ μ°¨μ΄

* **μ„μ‹ λ§μ΄νΈ**: `mount` λ…λ Ήμ–΄λ΅ λ§μ΄νΈ, μ‹μ¤ν… μ¬λ¶€ν… μ‹ ν•΄μ λ¨.
* **μκµ¬ λ§μ΄νΈ**: `/etc/fstab`μ— ν•­λ©μ„ μ¶”κ°€ν•΄ μ‹μ¤ν… λ¶€ν… μ‹ μλ™μΌλ΅ λ§μ΄νΈλ¨.

---

4. μμ£Ό μ‚¬μ©λλ” λ§μ΄νΈ κ΄€λ ¨ λ…λ Ήμ–΄
---------------------

### `umount`: νμΌ μ‹μ¤ν… μ–Έλ§μ΄νΈ

νμΌ μ‹μ¤ν…μ„ μ•μ „ν•κ² ν•΄μ ν•λ ¤λ©΄ `umount` λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤:

```
sudo umount <λ§μ΄νΈ μ§€μ >
```

**μμ‹:**

```
sudo umount /mnt/external_drive
```
### `findmnt`: ν„μ¬ λ§μ΄νΈλ νμΌ μ‹μ¤ν… μ •λ³΄ ν‘μ‹

ν„μ¬ λ§μ΄νΈλ λ¨λ“  νμΌ μ‹μ¤ν…μ„ ν‘μ‹ν•©λ‹λ‹¤.

```
findmnt
```
### `blkid`: λΈ”λ΅ μ¥μΉμ UUID λ° νμΌ μ‹μ¤ν… μ ν• ν™•μΈ

`blkid` λ…λ Ήμ–΄λ¥Ό ν†µν•΄ μ¥μΉμ UUID λ° νμΌ μ‹μ¤ν… μ ν•μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

```
blkid /dev/sdb1
```

---

5. μ‹¤μ  μ‚¬μ© μ‚¬λ΅€
-----------

### μƒ ν•λ“ λ””μ¤ν¬ μ¶”κ°€ λ° λ§μ΄νΈ

1. μƒ λ””μ¤ν¬λ¥Ό μ¶”κ°€ν• ν›„, `fdisk -l`μ„ ν†µν•΄ λ””μ¤ν¬ λ©λ΅μ„ ν™•μΈν•©λ‹λ‹¤.
2. `mkfs` λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•΄ νμΌ μ‹μ¤ν…μ„ μƒμ„±ν•©λ‹λ‹¤:
   
   ```
   sudo mkfs.ext4 /dev/sdb1
   ```
3. `/etc/fstab` νμΌμ— μ¶”κ°€ν•μ—¬ μκµ¬ λ§μ΄νΈν•©λ‹λ‹¤:
   
   ```
   UUID=abc123 /mnt/newdisk ext4 defaults 0 2
   ```

### USB λ“λΌμ΄λΈ μλ™ λ§μ΄νΈ μ„¤μ •

USB λ“λΌμ΄λΈλ¥Ό μλ™μΌλ΅ λ§μ΄νΈν•λ ¤λ©΄ `/etc/fstab`μ— μ¶”κ°€ν•©λ‹λ‹¤. USBκ°€ μ—¬λ¬ κ°μΌ κ²½μ° UUIDλ¥Ό μ‚¬μ©ν•΄ μ •ν™•ν μ„¤μ •ν•  μ μμµλ‹λ‹¤.

```
UUID=usb-unique-id /media/usbdrive vfat defaults,user 0 0
```
### NFS κ³µμ  λ§μ΄νΈν•κΈ°

NFS μ„λ²„μ λ””λ ‰ν† λ¦¬λ¥Ό ν΄λΌμ΄μ–ΈνΈ μ‹μ¤ν…μ— λ§μ΄νΈν•λ ¤λ©΄ `/etc/fstab`μ— λ‹¤μκ³Ό κ°™μ΄ μ¶”κ°€ν•©λ‹λ‹¤:

```
server:/shared /mnt/shared nfs defaults 0 0
```

---

6. λ§μ΄νΈ κ΄€λ ¨ λ¬Έμ  ν•΄κ²°
---------------

### μΌλ°μ μΈ λ§μ΄νΈ μ¤λ¥ λ° ν•΄κ²° λ°©λ²•

* **fstab κµ¬λ¬Έ μ¤λ¥**: `fstab` νΈμ§‘ μ‹ μ¤νƒ€κ°€ μμΌλ©΄ λ¶€ν…μ΄ μ‹¤ν¨ν•  μ μμµλ‹λ‹¤. `mount -a` λ…λ Ήμ–΄λ΅ λ¶€ν… μ „ ν…μ¤νΈλ¥Ό κ¶μ¥ν•©λ‹λ‹¤.
* **λ¶€ν… μ‹¤ν¨ μ‹ μ‘κΈ‰ λ¨λ“λ΅ μ§„μ…**: μ‘κΈ‰ λ¨λ“μ—μ„ `rw` λ¨λ“λ΅ νμΌ μ‹μ¤ν…μ„ λ§μ΄νΈν•μ—¬ `fstab` νμΌμ„ μμ •ν•©λ‹λ‹¤:
  
  ```
  mount -o rw,remount /
  vi /etc/fstab
  ```

---

7. λ³΄μ• κ³ λ ¤μ‚¬ν•­
----------

νμΌ μ‹μ¤ν… λ§μ΄νΈ μ‹ λ³΄μ•μ— μ μν•΄μ•Ό ν•©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, USB μ¥μΉμ—λ” `noexec`, `nosuid`μ™€ κ°™μ€ μµμ…μ„ μ„¤μ •ν•μ—¬ μ μ¬μ μΈ μ•…μ„± νμΌ μ‹¤ν–‰μ„ λ°©μ§€ν•  μ μμµλ‹λ‹¤:

```
UUID=usb-unique-id /media/usbdrive vfat noexec,nosuid,nodev 0 0
```

---

### κ²°λ΅ 

λ¦¬λ…μ¤μ νμΌ μ‹μ¤ν… λ§μ΄νΈλ” μ‹μ¤ν… μ„¤μ •κ³Ό μ΄μμ—μ„ μ¤‘μ”ν• λ¶€λ¶„μ…λ‹λ‹¤. `/etc/fstab` νμΌμ„ μ‚¬μ©ν•΄ λ¶€ν… μ‹ μλ™ λ§μ΄νΈλ¥Ό μ„¤μ •ν•κ³ , ν•„μ”μ— λ”°λΌ `mount`, `umount`, `df -h` λ“±μ λ…λ Ήμ–΄λ¥Ό μ‚¬μ©ν•΄ λ””μ¤ν¬ κ΄€λ¦¬μ™€ νμΌ μ‹μ¤ν…μ μ‚¬μ©λ‰μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

μ΄ κ°€μ΄λ“λ¥Ό ν†µν•΄ νμΌ μ‹μ¤ν…μ„ λ³΄λ‹¤ μ•μ „ν•κ³  ν¨μ¨μ μΌλ΅ κ΄€λ¦¬ν•΄λ³΄μ„Έμ”. π

